# Build dependencies (must be first to avoid CLIP build errors)
setuptools>=65.0
wheel>=0.40
setuptools_scm>=7.0

# Core FastAPI (updated for Pydantic v2 compatibility)
fastapi>=0.109.0
uvicorn[standard]>=0.27.0
python-multipart>=0.0.9

# ML and Image Processing (compatible versions)
# Note: torch and torchvision are installed separately in nixpacks.toml to use CPU-only versions
# For Railway: torch will be installed via pip with --index-url flag in build command
transformers>=4.30.0
pillow
# Qwen3-VL-Embedding: State-of-the-art multimodal embedding model (replaces CLIP)
# - Pre-built from Hugging Face (no build issues on Railway)
# - Better performance than CLIP on image-text retrieval
# - Optimized for aesthetic classification and ranking tasks

# API and HTTP clients
httpx>=0.25.0
requests>=2.31.0

# Database and Caching
redis[hiredis]>=5.0.0
sqlalchemy>=2.0.0
psycopg2-binary>=2.9.0

# Security
bcrypt>=4.0.0
python-jose[cryptography]>=3.3.0

# Config and Utils  
pydantic>=2.5.0
pydantic-settings>=2.0.0
email-validator>=2.0.0
python-dotenv>=1.0.0
pyyaml>=6.0.1

# Image utilities
numpy>=1.24.0
aiohttp>=3.8.0
